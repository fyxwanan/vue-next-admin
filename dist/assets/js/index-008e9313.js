import{_ as F}from"./index-71d91ebe.js";import{i as h}from"./getStyleSheets-25a79286.js";import{d as L,e as E,_ as N,k as R,j as U,f as G,ah as s,o as x,c as _,V as a,P as r,O as $,J as M,a as S,U as j,u as v,aU as J,n as q}from"./@vue-f9e59415.js";import"./pinia-8895fa67.js";import"./vue-demi-71ba0ef2.js";import"./vue-router-a024509b.js";import"./vue-i18n-c4e0915d.js";import"./@intlify-ed9c9b63.js";import"./vue-b5d7f7af.js";import"./js-cookie-edb2da2a.js";import"./@element-plus-f2d856bb.js";import"./nprogress-f4e438e8.js";import"./axios-9cbf0d09.js";import"./qs-36bd8b70.js";import"./side-channel-3a385e21.js";import"./get-intrinsic-88feedc6.js";import"./es-errors-82fd953f.js";import"./has-symbols-e8f3ca0e.js";import"./has-proto-1353c55e.js";import"./function-bind-61637ca6.js";import"./hasown-bc561cf0.js";import"./call-bind-9ec8ebd8.js";import"./set-function-length-ecd19468.js";import"./define-data-property-d38573ea.js";import"./es-define-property-cfa03815.js";import"./gopd-4c4454f6.js";import"./has-property-descriptors-68e2873e.js";import"./object-inspect-7ba7c20a.js";import"./element-plus-b9d096c5.js";import"./lodash-es-2e98bc53.js";import"./@vueuse-b50f0a95.js";import"./@sxzz-c75af06c.js";import"./@ctrl-f8748455.js";import"./dayjs-1b30f524.js";import"./async-validator-dee29e8b.js";import"./memoize-one-297ddbcb.js";import"./normalize-wheel-es-ed76fb12.js";import"./@floating-ui-fc8420ed.js";import"./mitt-f7ef348c.js";import"./vue-grid-layout-7e89b549.js";const H={class:"icon-selector w100 h100"},K={class:"icon-selector-warp"},Q={class:"icon-selector-warp-title"},X=L({name:"iconSelector"}),Ee=L({...X,props:{prepend:{type:String,default:()=>"ele-Pointer"},placeholder:{type:String,default:()=>"请输入内容搜索图标或者选择图标"},size:{type:String,default:()=>"default"},title:{type:String,default:()=>"请选择图标"},disabled:{type:Boolean,default:()=>!1},clearable:{type:Boolean,default:()=>!0},emptyDescription:{type:String,default:()=>"无相关图标"},modelValue:String},emits:["update:modelValue","get","clear"],setup(n,{emit:C}){const i=n,p=C,m=J(()=>F(()=>import("./list-fd590e41.js"),["assets/js/list-fd590e41.js","assets/js/@vue-f9e59415.js","assets/js/_plugin-vue_export-helper-c27b6911.js","assets/css/list-2b48e177.css"])),f=E(),e=N({fontIconPrefix:"",fontIconWidth:0,fontIconSearch:"",fontIconPlaceholder:"",fontIconTabActive:"ali",fontIconList:{ali:[],ele:[],awe:[]}}),k=()=>{if(!i.modelValue)return!1;e.fontIconSearch="",e.fontIconPlaceholder=i.modelValue},T=()=>{const t=P();setTimeout(()=>{t.filter(l=>l===e.fontIconSearch).length<=0&&(e.fontIconSearch="")},300)},d=R(()=>{const t=P();if(!e.fontIconSearch)return t;let o=e.fontIconSearch.trim().toLowerCase();return t.filter(l=>{if(l.toLowerCase().indexOf(o)!==-1)return l})}),P=()=>{let t=[];return e.fontIconTabActive==="ali"?t=e.fontIconList.ali:e.fontIconTabActive==="ele"?t=e.fontIconList.ele:e.fontIconTabActive==="awe"&&(t=e.fontIconList.awe),t},y=()=>{if(i.modelValue==="")return e.fontIconPlaceholder=i.placeholder;e.fontIconPlaceholder=i.modelValue,e.fontIconPrefix=i.modelValue},b=()=>{let t="ali";return i.modelValue.indexOf("iconfont")>-1?t="ali":i.modelValue.indexOf("ele-")>-1?t="ele":i.modelValue.indexOf("fa")>-1&&(t="awe"),e.fontIconTabActive=t,t},w=async t=>{if(t==="ali"){if(e.fontIconList.ali.length>0)return;await h.ali().then(o=>{e.fontIconList.ali=o.map(l=>`iconfont ${l}`)})}else if(t==="ele"){if(e.fontIconList.ele.length>0)return;await h.ele().then(o=>{e.fontIconList.ele=o})}else if(t==="awe"){if(e.fontIconList.awe.length>0)return;await h.awe().then(o=>{e.fontIconList.awe=o.map(l=>`fa ${l}`)})}e.fontIconPlaceholder=i.placeholder,y()},z=t=>{w(t.paneName),f.value.focus()},u=t=>{e.fontIconPlaceholder=t,e.fontIconPrefix=t,p("get",e.fontIconPrefix),p("update:modelValue",e.fontIconPrefix),f.value.focus()},A=()=>{e.fontIconPrefix="",p("clear",e.fontIconPrefix),p("update:modelValue",e.fontIconPrefix)},V=()=>{q(()=>{e.fontIconWidth=f.value.$el.offsetWidth})},B=()=>{window.addEventListener("resize",()=>{V()})};return U(()=>{w(b()),B(),V()}),G(()=>i.modelValue,()=>{y(),b()}),(t,o)=>{const l=s("SvgIcon"),O=s("el-input"),I=s("el-tab-pane"),D=s("el-tabs"),W=s("el-popover");return x(),_("div",H,[a(O,{modelValue:e.fontIconSearch,"onUpdate:modelValue":o[0]||(o[0]=c=>e.fontIconSearch=c),placeholder:e.fontIconPlaceholder,clearable:n.clearable,disabled:n.disabled,size:n.size,ref_key:"inputWidthRef",ref:f,onClear:A,onFocus:k,onBlur:T},{prepend:r(()=>{var c,g;return[(e.fontIconPrefix===""?((c=n.prepend)==null?void 0:c.indexOf("ele-"))>-1:((g=e.fontIconPrefix)==null?void 0:g.indexOf("ele-"))>-1)?(x(),$(l,{key:0,name:e.fontIconPrefix===""?n.prepend:e.fontIconPrefix,class:"font14"},null,8,["name"])):(x(),_("i",{key:1,class:M([e.fontIconPrefix===""?n.prepend:e.fontIconPrefix,"font14"])},null,2))]}),_:1},8,["modelValue","placeholder","clearable","disabled","size"]),a(W,{placement:"bottom",width:e.fontIconWidth,transition:"el-zoom-in-top","popper-class":"icon-selector-popper",trigger:"click","virtual-ref":f.value,"virtual-triggering":""},{default:r(()=>[S("div",K,[S("div",Q,j(n.title),1),a(D,{modelValue:e.fontIconTabActive,"onUpdate:modelValue":o[1]||(o[1]=c=>e.fontIconTabActive=c),onTabClick:z},{default:r(()=>[a(I,{lazy:"",label:"ali",name:"ali"},{default:r(()=>[a(v(m),{list:d.value,empty:n.emptyDescription,prefix:e.fontIconPrefix,onGetIcon:u},null,8,["list","empty","prefix"])]),_:1}),a(I,{lazy:"",label:"ele",name:"ele"},{default:r(()=>[a(v(m),{list:d.value,empty:n.emptyDescription,prefix:e.fontIconPrefix,onGetIcon:u},null,8,["list","empty","prefix"])]),_:1}),a(I,{lazy:"",label:"awe",name:"awe"},{default:r(()=>[a(v(m),{list:d.value,empty:n.emptyDescription,prefix:e.fontIconPrefix,onGetIcon:u},null,8,["list","empty","prefix"])]),_:1})]),_:1},8,["modelValue"])])]),_:1},8,["width","virtual-ref"])])}}});export{Ee as default};
